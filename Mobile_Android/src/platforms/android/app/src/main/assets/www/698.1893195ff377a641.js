"use strict";(self.webpackChunkmoneyguard=self.webpackChunkmoneyguard||[]).push([[698],{6698:($,C,c)=>{c.r(C),c.d(C,{ConceptsModule:()=>P});var u=c(9808),A=c(7612),h=c(1787),g=c(5861),l=c(3075),p=c(8966),f=c(3905),t=c(5e3),v=c(7261),Z=c(3747),T=c(3441),d=c(4218),y=c(7322),S=c(7531),b=c(9814),M=c(9224),x=c(7423),_=c(773);function O(e,a){1&e&&t._UZ(0,"mat-spinner",15),2&e&&t.Q6J("diameter",20)}let D=(()=>{class e{constructor(o,n,i,s,m,Q,E){this.fb=o,this.snackBar=n,this._conceptoService=i,this._helperService=s,this.translate=m,this.dialogRef=Q,this.data=E,this.loading=!1}get newConceptTitle(){return this.translate.instant("concept.newConcept")}get editConceptTitle(){return this.translate.instant("concept.editConcept")}ngOnInit(){this.form=this.fb.group({conceptoFormControl:[this.data.concepto?this.data.concepto.descripcion:"",l.kI.required],debitoCreditoControl:void 0!==this.data.concepto&&!0===this.data.concepto.credito?"1":"0"})}onCancel(){this.dialogRef.close()}onSave(){this.loading=!0,this.form.value.conceptoFormControl=this._helperService.toCamelCase(this.form.value.conceptoFormControl),void 0===this.data.concepto?this.newConcepto():this.modifyConcepto()}newConcepto(){var o=this;return(0,g.Z)(function*(){const n=o._conceptoService.insertConcepto(o.form.value.conceptoFormControl.toString(),"0"!==o.form.value.debitoCreditoControl);try{yield(0,f.z)(n),o._helperService.showSnackBarInformation(o.snackBar,o.translate.instant("message.successfulOperation")),o.dialogRef.close(!0)}catch(i){o.loading=!1,o._helperService.showSnackBarError(o.snackBar,o._helperService.getErrorMessage(i))}})()}modifyConcepto(){var o=this;return(0,g.Z)(function*(){const n=o._conceptoService.updateConcepto(o.data.concepto.id,o.form.value.conceptoFormControl.toString(),"0"!==o.form.value.debitoCreditoControl);try{yield(0,f.z)(n),o.loading=!1,o._helperService.showSnackBarInformation(o.snackBar,o.translate.instant("message.successfulOperation")),o.dialogRef.close(!0)}catch(i){o.loading=!1,o._helperService.showSnackBarError(o.snackBar,o._helperService.getErrorMessage(i))}})()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l.qu),t.Y36(v.ux),t.Y36(Z.X),t.Y36(T.W),t.Y36(d.sK),t.Y36(p.so),t.Y36(p.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-concepto-dialog"]],decls:29,vars:19,consts:[[1,"spinner"],["class","spinner",3,"diameter",4,"ngIf"],[1,"title"],["mat-dialog-title",""],["novalidate","",1,"full-width-form",3,"formGroup","ngSubmit"],["matInput","","formControlName","conceptoFormControl","autocomplete","off",3,"placeholder","focus"],["conceptName",""],["formControlName","debitoCreditoControl"],["value","0",1,"debito"],["value","1",1,"credito"],[1,"buttons-section"],[1,"cancel-button"],["mat-raised-button","","type","button",3,"click"],[1,"save-button"],["mat-raised-button","","type","submit","color","primary",3,"disabled"],[1,"spinner",3,"diameter"]],template:function(o,n){if(1&o){const i=t.EpF();t.TgZ(0,"div",0),t.YNc(1,O,1,1,"mat-spinner",1),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"h2",3),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"mat-dialog-content"),t.TgZ(6,"form",4),t.NdJ("ngSubmit",function(){return n.onSave()}),t.TgZ(7,"mat-form-field"),t.TgZ(8,"input",5,6),t.NdJ("focus",function(){return t.CHM(i),t.MAs(9).select()}),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.TgZ(11,"div"),t.TgZ(12,"mat-radio-group",7),t.TgZ(13,"mat-radio-button",8),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"mat-radio-button",9),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(19,"div",10),t.TgZ(20,"mat-card-actions"),t.TgZ(21,"div",11),t.TgZ(22,"button",12),t.NdJ("click",function(){return n.onCancel()}),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.TgZ(25,"div",13),t.TgZ(26,"button",14),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&o&&(t.xp6(1),t.Q6J("ngIf",n.loading),t.xp6(3),t.Oqu(void 0===n.data.concepto?n.newConceptTitle:n.editConceptTitle),t.xp6(2),t.Q6J("formGroup",n.form),t.xp6(2),t.s9C("placeholder",t.lcZ(10,9,"concept.concept")),t.xp6(6),t.Oqu(t.lcZ(15,11,"concept.debit")),t.xp6(3),t.Oqu(t.lcZ(18,13,"concept.credit")),t.xp6(6),t.Oqu(t.lcZ(24,15,"button.cancel")),t.xp6(3),t.Q6J("disabled",!n.form.valid||n.loading),t.xp6(1),t.Oqu(t.lcZ(28,17,"button.ok")))},directives:[u.O5,p.uh,p.xY,l._Y,l.JL,l.sg,y.KE,S.Nt,l.Fj,l.JJ,l.u,b.VQ,b.U0,M.hq,x.lW,_.$g],pipes:[d.X$],styles:[".spinner[_ngcontent-%COMP%]{float:right;text-align:right}.cancel-button[_ngcontent-%COMP%]{float:left;text-align:left}.save-button[_ngcontent-%COMP%]{float:right;text-align:center}.buttons-section[_ngcontent-%COMP%]{padding-top:30px;padding-bottom:40px}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:50px}.debito[_ngcontent-%COMP%]{color:red}  .debito.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:red!important}  .debito.mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:red!important}  .debito.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:red!important}.credito[_ngcontent-%COMP%]{color:#000}  .credito.mat-radio-button.mat-accent .mat-radio-ripple .mat-ripple-element{background-color:#000!important}  .credito.mat-radio-button.mat-accent .mat-radio-inner-circle{background-color:#000!important}  .credito.mat-radio-button.mat-accent.mat-radio-checked .mat-radio-outer-circle{border-color:#000!important}"]}),e})();var r=c(2075),k=c(3874);function Y(e,a){1&e&&(t.TgZ(0,"div",2),t._UZ(1,"mat-spinner",3),t.qZA())}function w(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"concept.concept")))}function B(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.descripcion," ")}}function N(e,a){1&e&&(t.TgZ(0,"th",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"concept.type")))}function J(e,a){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const o=a.$implicit,n=t.oxw(2);t.ekj("importeNegativo",!1===o.credito),t.xp6(1),t.hij(" ",!0===o.credito?n.debitTitle:n.creditTitle," ")}}function q(e,a){1&e&&t._UZ(0,"tr",16)}function R(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"tr",17),t.NdJ("click",function(){const s=t.CHM(o).$implicit;return t.oxw(2).openConceptoDialog(s)}),t.qZA()}}function F(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"div",4),t.TgZ(2,"table",5),t.ynx(3,6),t.YNc(4,w,3,3,"th",7),t.YNc(5,B,2,1,"td",8),t.BQk(),t.ynx(6,9),t.YNc(7,N,3,3,"th",7),t.YNc(8,J,2,3,"td",10),t.BQk(),t.YNc(9,q,1,0,"tr",11),t.YNc(10,R,1,0,"tr",12),t.qZA(),t.qZA(),t.TgZ(11,"button",13),t.NdJ("click",function(){return t.CHM(o),t.oxw().openConceptoDialog(null)}),t.TgZ(12,"mat-icon"),t._uU(13,"add"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const o=t.oxw();t.xp6(2),t.Q6J("dataSource",o.conceptos),t.xp6(7),t.Q6J("matHeaderRowDef",o.displayedColumns)("matHeaderRowDefSticky",!0),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns)}}const U=[{path:"",component:(()=>{class e{constructor(o,n,i,s,m){this._conceptoService=o,this._helperService=n,this.conceptoDialog=i,this.translate=s,this.snackBar=m,this.displayedColumns=["concepto","tipo"],this.loading=!1,this.conceptos=[]}get debitTitle(){return this.translate.instant("concept.debit")}get creditTitle(){return this.translate.instant("concept.credit")}ngOnInit(){this.getConceptos()}getConceptos(){var o=this;return(0,g.Z)(function*(){o.loading=!0;const n=o._conceptoService.getConceptos();try{const i=yield(0,f.z)(n);o.conceptos=i,o.loading=!1}catch(i){o.loading=!1,o._helperService.showSnackBarError(o.snackBar,o._helperService.getErrorMessage(i))}})()}openConceptoDialog(o){this.conceptoDialog.open(D,{data:{concepto:o}}).afterClosed().subscribe(i=>{void 0!==i&&this.getConceptos()})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(Z.X),t.Y36(T.W),t.Y36(p.uw),t.Y36(d.sK),t.Y36(v.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-conceptos"]],decls:2,vars:2,consts:[["class","loading",4,"ngIf"],[4,"ngIf"],[1,"loading"],["diameter","70","strokeWidth","5"],[1,"tableContent"],["mat-table","",1,"mat-elevation-z8","conceptos-table",3,"dataSource"],["matColumnDef","concepto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","tipo"],["mat-cell","",3,"importeNegativo",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-fab","","color","primary",1,"addButton",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(o,n){1&o&&(t.YNc(0,Y,2,0,"div",0),t.YNc(1,F,14,4,"div",1)),2&o&&(t.Q6J("ngIf",!0===n.loading),t.xp6(1),t.Q6J("ngIf",!1===n.loading))},directives:[u.O5,_.$g,r.BZ,r.w1,r.fO,r.Dz,r.as,r.nj,x.lW,k.Hw,r.ge,r.ev,r.XQ,r.Gk],pipes:[d.X$],styles:[".tableContent[_ngcontent-%COMP%]{display:flex;justify-content:center;max-block-size:-webkit-fill-available}.conceptos-table[_ngcontent-%COMP%]{width:60%}.mat-header-cell[_ngcontent-%COMP%]{font-weight:700}.addButton[_ngcontent-%COMP%]{position:fixed;bottom:10px;right:30px}@media only screen and (max-width: 600px){.conceptos-table[_ngcontent-%COMP%]{width:100%}}"]}),e})()}];let I=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.Bz.forChild(U)],h.Bz]}),e})(),P=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,A.m,I,d.aw]]}),e})()}}]);